{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { createSlice } from '@reduxjs/toolkit';\nexport const getItems = createAsyncThunk('items/getItems', async () => {\n  try {\n    const response = await axios.get('/api/items');\n    return response.data.data;\n  } catch (error) {\n    return error.response.data.error;\n  }\n});\nexport const addItem = createAsyncThunk('items/addItem', async newItemPost => {\n  const config = {\n    header: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    console.log(newItemPost);\n    const response = await axios.post('/api/items', newItemPost, config);\n    return response.data.data;\n  } catch (error) {\n    return error.response.data.error;\n  }\n});\nexport const editItem = createAsyncThunk('items/editItem', async ({\n  _id,\n  name\n}) => {\n  // const config = {\n  //    header: {\n  //       'Content-Type': 'application/json'\n  //    }\n  // }\n  try {\n    const response = await axios.put(`/api/items/${_id}`, {\n      name: name\n    });\n    return response.data.data;\n  } catch (error) {\n    return error.response.data.error;\n  }\n});\nexport const deleteItem = createAsyncThunk('items/deleteItem', async itemId => {\n  try {\n    // eslint-disable-next-line no-unused-vars\n    const reponse = await axios.delete(`/api/items/${itemId}`);\n    return itemId;\n  } catch (error) {\n    return error.response.data.error;\n  }\n});\nexport const ItemReducers = createSlice({\n  name: 'items',\n  initialState: {\n    items: [],\n    error: null,\n    loading: false\n  },\n  reducers: {\n    GET_ITEMS: (state, action) => {\n      return { ...state,\n        loading: false,\n        items: action.payload\n      };\n    },\n    ADD_ITEM: (state, action) => {\n      return { ...state,\n        items: [...state.items, action.payload]\n      };\n    },\n    DELETE_ITEM: (state, action) => {\n      return { ...state,\n        items: state.items.filter(item => item.id !== action.payload)\n      };\n    },\n    EDIT_ITEM: (state, action) => {\n      const {\n        id,\n        name\n      } = action.payload;\n      const existItem = state.items.find(item => item.id === id);\n\n      if (existItem) {\n        existItem.name = name;\n      }\n    },\n    ITEMS_LOADING: state => {\n      return { ...state,\n        loading: true\n      };\n    },\n    ITEMS_ERROR: (state, action) => {\n      return { ...state,\n        error: action.payload\n      };\n    }\n  },\n  extraReducers: {\n    [getItems.pending]: (state, action) => {\n      state.loading = true;\n    },\n    [getItems.fulfilled]: (state, action) => {\n      // state.loading = false\n      // state.items = state.items.concat(action.payload)\n      return { ...state,\n        loading: false,\n        items: action.payload\n      };\n    },\n    [addItem.fulfilled]: (state, action) => {\n      return { ...state,\n        items: [...state.items, action.payload]\n      };\n    },\n    [deleteItem.fulfilled]: (state, action) => {\n      return { ...state,\n        items: state.items.filter(item => item._id !== action.payload)\n      };\n    },\n    [editItem.fulfilled]: (state, action) => {\n      const {\n        _id,\n        name\n      } = action.payload;\n      const existingItem = state.items.find(item => item._id === _id);\n\n      if (existingItem) {\n        existingItem.name = name;\n      }\n    }\n  }\n});\nexport const {\n  GET_ITEMS,\n  ADD_ITEM,\n  DELETE_ITEM,\n  ITEMS_LOADING,\n  ITEMS_ERROR,\n  EDIT_ITEM\n} = ItemReducers.actions;\nexport const selectItem = state => state.item.items;\nexport default ItemReducers.reducer;","map":{"version":3,"sources":["C:/Users/User/Documents/myExpressApp/React/mern_shopping_list/client/src/reducers/ItemReducers.js"],"names":["createAsyncThunk","axios","createSlice","getItems","response","get","data","error","addItem","newItemPost","config","header","console","log","post","editItem","_id","name","put","deleteItem","itemId","reponse","delete","ItemReducers","initialState","items","loading","reducers","GET_ITEMS","state","action","payload","ADD_ITEM","DELETE_ITEM","filter","item","id","EDIT_ITEM","existItem","find","ITEMS_LOADING","ITEMS_ERROR","extraReducers","pending","fulfilled","existingItem","actions","selectItem","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { createSlice } from '@reduxjs/toolkit'\r\n\r\n\r\n\r\nexport const getItems = createAsyncThunk('items/getItems', async () =>{\r\n   try {\r\n      const response = await axios.get('/api/items')\r\n      return response.data.data\r\n   } catch (error) {\r\n      return error.response.data.error\r\n   }\r\n});\r\nexport const addItem = createAsyncThunk('items/addItem', async (newItemPost) =>{\r\n   const config = {\r\n      header: {\r\n         'Content-Type': 'application/json'\r\n      }\r\n   }\r\n   try {\r\n      console.log(newItemPost)\r\n      const response = await axios.post('/api/items', newItemPost, config)\r\n      return response.data.data\r\n      \r\n   } catch (error) {\r\n      return error.response.data.error\r\n      \r\n   }\r\n\r\n})\r\nexport const editItem = createAsyncThunk('items/editItem', async ({_id, name}) => {\r\n   // const config = {\r\n   //    header: {\r\n   //       'Content-Type': 'application/json'\r\n   //    }\r\n   // }\r\n   try {\r\n      const response = await axios.put(`/api/items/${_id}`, {name: name})\r\n      return response.data.data\r\n   } catch (error) {\r\n      return error.response.data.error   \r\n   }\r\n})\r\n\r\nexport const deleteItem = createAsyncThunk('items/deleteItem', async (itemId) =>{\r\n   try {\r\n      // eslint-disable-next-line no-unused-vars\r\n      const reponse = await axios.delete(`/api/items/${itemId}`)\r\n      return (itemId)\r\n   } catch (error) {         \r\n      return error.response.data.error\r\n      \r\n   }\r\n})\r\n\r\nexport const ItemReducers = createSlice({\r\n   name: 'items',\r\n   initialState: {\r\n      items: [],\r\n      error: null,\r\n      loading: false\r\n   },\r\n   reducers: {\r\n      GET_ITEMS: (state, action) => {\r\n         return {\r\n            ...state,\r\n            loading: false,\r\n            items: action.payload,\r\n         }\r\n      },\r\n      ADD_ITEM: (state, action) => {\r\n         return {\r\n            ...state,\r\n            items: [...state.items, action.payload]\r\n         }\r\n      },\r\n      DELETE_ITEM: (state, action) => { \r\n         return {\r\n            ...state,\r\n            items:  state.items.filter(item => item.id !==action.payload)\r\n         }\r\n      },\r\n      EDIT_ITEM: (state, action) => {\r\n         const { id, name} = action.payload\r\n         const existItem = state.items.find(item => item.id === id)\r\n         if(existItem){\r\n            existItem.name = name\r\n         }\r\n      },\r\n      ITEMS_LOADING: (state) =>{\r\n         return{\r\n            ...state,\r\n            loading: true \r\n         }\r\n      },\r\n      ITEMS_ERROR: (state, action) =>{\r\n         return {\r\n            ...state,\r\n            error: action.payload\r\n         }\r\n      }\r\n   }, \r\n   extraReducers: {\r\n      [getItems.pending]: (state, action) =>{\r\n         state.loading = true\r\n      },\r\n      [getItems.fulfilled]:  (state, action) => {  \r\n         // state.loading = false\r\n         // state.items = state.items.concat(action.payload)\r\n         return {\r\n            ...state,\r\n            loading: false,\r\n            items: action.payload,\r\n         }\r\n\r\n      },\r\n      [addItem.fulfilled]: (state, action) => {\r\n         return {\r\n            ...state,\r\n            items: [...state.items, action.payload]\r\n         }\r\n      },\r\n      [deleteItem.fulfilled]: (state, action) => { \r\n         return {\r\n            ...state,\r\n            items:  state.items.filter(item => item._id !==action.payload)\r\n         }\r\n      },\r\n      [editItem.fulfilled]: (state, action) =>{\r\n         const { _id, name } = action.payload\r\n         const existingItem = state.items.find((item) => item._id === _id)\r\n         if(existingItem) {\r\n            existingItem.name = name\r\n         }\r\n      },\r\n   }\r\n});\r\n\r\nexport const { GET_ITEMS, ADD_ITEM, DELETE_ITEM, ITEMS_LOADING, ITEMS_ERROR, EDIT_ITEM } = ItemReducers.actions\r\nexport const selectItem = state => state.item.items\r\n\r\n\r\nexport default ItemReducers.reducer;\r\n"]},"metadata":{},"sourceType":"module"}