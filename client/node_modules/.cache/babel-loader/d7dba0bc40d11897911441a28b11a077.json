{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { createSlice } from '@reduxjs/toolkit';\nexport const getItems = createAsyncThunk('items/getItems', async () => {\n  try {\n    axios.get('/api/items').then(res => {\n      return res.data.data;\n    });\n  } catch (error) {\n    return error.response.data.error;\n  }\n});\nexport const addItem = createAsyncThunk('items/addItem', async newItemPost => {\n  const config = {\n    header: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    axios.post('/api/items', newItemPost, config).then(res => {\n      return res.data.data;\n    });\n  } catch (error) {\n    return error.response.data.error;\n  }\n});\nexport const deleteItem = createAsyncThunk('items/deleteItem', async itemId => {\n  try {\n    axios.delete(`/api/items/${itemId}`).then(res => {\n      return itemId;\n    });\n  } catch (error) {\n    return error.response.data.error;\n  }\n});\nexport const ItemReducers = createSlice({\n  name: 'item',\n  initialState: {\n    items: [],\n    error: null,\n    loading: false\n  },\n  reducers: {\n    GET_ITEMS: (state, action) => {\n      return { ...state,\n        loading: false,\n        items: action.payload\n      };\n    },\n    ADD_ITEM: (state, action) => {\n      return { ...state,\n        items: [...state.items, action.payload]\n      };\n    },\n    DELETE_ITEM: (state, action) => {\n      return { ...state,\n        items: state.items.filter(item => item.id !== action.payload)\n      };\n    },\n    EDIT_ITEM: (state, action) => {\n      const {\n        id,\n        name\n      } = action.payload;\n      const existItem = state.items.find(item => item.id === id);\n\n      if (existItem) {\n        existItem.name = name;\n      }\n    },\n    ITEMS_LOADING: state => {\n      return { ...state,\n        loading: true\n      };\n    },\n    ITEMS_ERROR: (state, action) => {\n      return { ...state,\n        error: action.payload\n      };\n    }\n  },\n  extraReducers: {\n    [getItems]: (state, action) => {\n      return { ...state,\n        loading: false,\n        items: action.payload\n      };\n    },\n    [addItem]: (state, action) => {\n      return { ...state,\n        items: [...state.items, action.payload]\n      };\n    },\n    [deleteItem]: (state, action) => {\n      return { ...state,\n        items: state.items.filter(item => item.id !== action.payload)\n      };\n    }\n  }\n});\nexport const {\n  GET_ITEMS,\n  ADD_ITEM,\n  DELETE_ITEM,\n  ITEMS_LOADING,\n  ITEMS_ERROR,\n  EDIT_ITEM\n} = ItemReducers.actions;\nexport const selectItem = state => state.item.items;\nexport default ItemReducers.reducer;","map":{"version":3,"sources":["C:/Users/User/Documents/myExpressApp/React/mern_shopping_list/client/src/reducers/ItemReducers.js"],"names":["createAsyncThunk","axios","createSlice","getItems","get","then","res","data","error","response","addItem","newItemPost","config","header","post","deleteItem","itemId","delete","ItemReducers","name","initialState","items","loading","reducers","GET_ITEMS","state","action","payload","ADD_ITEM","DELETE_ITEM","filter","item","id","EDIT_ITEM","existItem","find","ITEMS_LOADING","ITEMS_ERROR","extraReducers","actions","selectItem","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { createSlice } from '@reduxjs/toolkit'\r\n\r\n\r\n\r\nexport const getItems = createAsyncThunk('items/getItems', async () =>{\r\n   try {\r\n      axios\r\n         .get('/api/items')\r\n         .then(res => {\r\n            return res.data.data\r\n         })\r\n   } catch (error) {\r\n      return error.response.data.error\r\n   }\r\n});\r\nexport const addItem = createAsyncThunk('items/addItem', async (newItemPost) =>{\r\n   const config = {\r\n      header: {\r\n         'Content-Type': 'application/json'\r\n      }\r\n   }\r\n   try {\r\n      axios\r\n        .post('/api/items', newItemPost, config)\r\n        .then(res => {\r\n           return res.data.data\r\n        } )\r\n   } catch (error) {\r\n      return error.response.data.error\r\n      \r\n   }\r\n\r\n})\r\n\r\nexport const deleteItem = createAsyncThunk('items/deleteItem', async (itemId) =>{\r\n   try {\r\n      axios\r\n        .delete(`/api/items/${itemId}`)\r\n        .then(res => {\r\n            return (itemId)\r\n        })\r\n   } catch (error) {         \r\n      return error.response.data.error\r\n      \r\n   }\r\n})\r\n\r\nexport const ItemReducers = createSlice({\r\n   name: 'item',\r\n   initialState: {\r\n      items: [],\r\n      error: null,\r\n      loading: false\r\n   },\r\n   reducers: {\r\n      GET_ITEMS: (state, action) => {\r\n         return {\r\n            ...state,\r\n            loading: false,\r\n            items: action.payload,\r\n         }\r\n      },\r\n      ADD_ITEM: (state, action) => {\r\n         return {\r\n            ...state,\r\n            items: [...state.items, action.payload]\r\n         }\r\n      },\r\n      DELETE_ITEM: (state, action) => { \r\n         return {\r\n            ...state,\r\n            items:  state.items.filter(item => item.id !==action.payload)\r\n         }\r\n      },\r\n      EDIT_ITEM: (state, action) => {\r\n         const { id, name} = action.payload\r\n         const existItem = state.items.find(item => item.id === id)\r\n         if(existItem){\r\n            existItem.name = name\r\n         }\r\n      },\r\n      ITEMS_LOADING: (state) =>{\r\n         return{\r\n            ...state,\r\n            loading: true \r\n         }\r\n      },\r\n      ITEMS_ERROR: (state, action) =>{\r\n         return {\r\n            ...state,\r\n            error: action.payload\r\n         }\r\n      }\r\n   }, \r\n   extraReducers: {\r\n      [getItems]:  (state, action) => {\r\n         return {\r\n            ...state,\r\n            loading: false,\r\n            items: action.payload,\r\n         }\r\n      },\r\n      [addItem]: (state, action) => {\r\n         return {\r\n            ...state,\r\n            items: [...state.items, action.payload]\r\n         }\r\n      },\r\n      [deleteItem]: (state, action) => { \r\n         return {\r\n            ...state,\r\n            items:  state.items.filter(item => item.id !==action.payload)\r\n         }\r\n      },\r\n   }\r\n});\r\n\r\nexport const { GET_ITEMS, ADD_ITEM, DELETE_ITEM, ITEMS_LOADING, ITEMS_ERROR, EDIT_ITEM } = ItemReducers.actions\r\nexport const selectItem = state => state.item.items\r\n\r\n\r\nexport default ItemReducers.reducer;\r\n"]},"metadata":{},"sourceType":"module"}